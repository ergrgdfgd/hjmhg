import random
import streamlit as st

# Данные с шансами, названиями и диапазонами
items = [
    ("MP7 Армейский спецназ", 0.64, 1, 1784086, 17.8409),
    ("AUG Гроза", 0.85, 1784087, 3273675, 14.8959),
    ("Negev Армейский блеск", 1.38, 3273676, 4554936, 12.8126),
    ("MP7 Жар Солнца", 3.01, 4554937, 5590583, 10.3565),
    ("Наклейка Nemiga", 3.17, 5590584, 6598814, 10.0823),
    ("Sawed-Off Змеиная кожа", 4.44, 6598815, 7396644, 7.9783),
    ("Glock-18 Зимний вариант", 4.57, 7396645, 8174660, 7.7802),
    ("FAMAS Голубые брызги", 8.49, 8174661, 8543396, 3.6874),
    ("MAC-10 Обезьяний камуфляж", 9.59, 8543397, 8847244, 3.0385),
    ("SG 553 Aloha", 10.68, 8847245, 9100189, 2.5295),
    ("M4A1-S Грязевой стандарт", 11.14, 9100190, 9334881, 2.3469),
    ("Tec-9 Треснувший опал", 13.69, 9334882, 9493817, 1.5894),
    ("P250 Валентность", 13.69, 9493818, 9652753, 1.5894),
    ("SSG 08 Пучина", 14.06, 9652754, 9803461, 1.5071),
    ("Desert Eagle Каллиграффити", 20.02, 9803462, 9874344, 0.7088),
    ("UMP-45 Arctic Wolf", 28.58, 9874345, 9905585, 0.3124),
    ("Dual Berettas Хищные растения", 34.51, 9905586, 9925815, 0.2023),
    ("USP-S Билет в ад", 37.26, 9925816, 9942833, 0.1702),
    ("Desert Eagle Directive", 37.87, 9942834, 9959246, 0.1641),
    ("P90 Grim", 43.69, 9959247, 9971273, 0.1203),
    ("P250 Лучшее вино", 63.28, 9971274, 9977119, 0.0585),
    ("AWP Ахерон", 70.32, 9977120, 9981996, 0.0488),
    ("M4A4 Etch Lord", 70.73, 9981997, 9986826, 0.0483),
    ("Desert Eagle Термическая обработка", 95.98, 9986827, 9989838, 0.0301),
    ("SSG 08 Горячечные грёзы", 110.76, 9989839, 9992298, 0.0246),
    ("Брелок Поп-арт", 127.13, 9992299, 9994339, 0.0204),
    ("Dual Berettas Плод воображения", 141.63, 9994340, 9996109, 0.0177),
    ("AWP Duality", 196.87, 9996110, 9997268, 0.0116),
    ("M4A4 Зубная фея", 258.70, 9997269, 9998089, 0.0082),
    ("P250 Прощальный оскал", 285.46, 9998090, 9998815, 0.0073),
    ("AK-47 Фантомный вредитель", 495.30, 9998816, 9999179, 0.0036),
    ("Sawed-Off Кракен", 502.63, 9999180, 9999537, 0.0036),
    ("M4A1-S Чёрный лотос", 888.82, 9999538, 9999712, 0.0017),
    ("Glock-18 Золотой зубок", 1164.00, 9999713, 9999837, 0.0013),
    ("MAC-10 На охоте", 1291.06, 9999838, 9999947, 0.0011),
    ("Desert Eagle Код красный", 2314.15, 9999948, 10000000, 0.0005)
]

# Начальный баланс пользователя (можно изменить)
balance = 100  # Начальный баланс в рублях

# Функция для имитации выпадения предмета
def open_case():
    # Генерируем случайное число от 1 до 10000000
    random_number = random.randint(1, 10000000)
    
    for item in items:
        # Проверяем, попадает ли случайное число в диапазон для этого предмета
        if item[2] <= random_number <= item[3]:
            return item[0], item[1]  # Возвращаем название и цену предмета
    return None

# Интерфейс Streamlit
st.title("Симулятор кейса")

# Отображаем текущий баланс
st.write(f"Ваш текущий баланс: {balance} рублей")

# Ввод количества кейсов
num_cases = st.number_input("Выберите количество кейсов (1-10)", min_value=1, max_value=10, value=1)

# Цена за открытие одного кейса
case_price = 5

# Кнопка для открытия кейсов
if st.button("Открыть кейс"):
    total_cost = case_price * num_cases  # Стоимость всех кейсов
    st.write(f"Общая стоимость: {total_cost} рублей")
    
    if balance < total_cost:
        st.write("У вас недостаточно средств для открытия выбранного количества кейсов.")
    else:
        balance -= total_cost  # Уменьшаем баланс на стоимость кейсов
        
        # Открываем выбранное количество кейсов
        for i in range(num_cases):
            result = open_case()
            if result:
                st.write(f"Кейс {i+1}: Вы выиграли: {result[0]} - Цена: {result[1]}$")
            else:
                st.write(f"Кейс {i+1}: Попробуйте снова!")
        
        st.write(f"Ваш оставшийся баланс: {balance} рублей")
